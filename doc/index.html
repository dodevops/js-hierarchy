<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>js-hierarchy</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">js-hierarchy</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> js-hierarchy</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h1 id="js-hierarchy">js-hierarchy</h1>
				<p><a href="https://saucelabs.com/u/dodevops"><img src="https://saucelabs.com/buildstatus/js-hierarchy" alt="Sauce Test Status"></a>
					<a href="https://travis-ci.org/dodevops/js-hierarchy"><img src="https://img.shields.io/travis/dodevops/js-hierarchy.svg" alt="Travis"></a>
					<a href="https://www.npmjs.com/package/js-hierarchy"><img src="https://img.shields.io/node/v/js-hierarchy.svg" alt="node"></a>
				<a href="https://www.npmjs.com/package/js-hierarchy"><img src="https://img.shields.io/npm/v/js-hierarchy.svg" alt="npm"></a></p>
				<p><a href="https://saucelabs.com/u/js-hierarchy"><img src="https://saucelabs.com/browser-matrix/js-hierarchy.svg" alt="Sauce Test Status"></a></p>
				<p>Proper hierarchy management for Node, Typescript and the Browser.</p>
				<h2 id="introduction">Introduction</h2>
				<p>js-hierarchy enables you to build tree-like data structures and work
					with them properly. It supports walking in multiple directions,
					storage of arbitrary data and can be used as a base framework for
				your special needs.</p>
				<h2 id="installation">Installation</h2>
				<h3 id="npm">npm</h3>
				<p>Install the module using npm:</p>
				<pre><code>npm <span class="hljs-keyword">install</span> <span class="hljs-comment">--save js-hierarchy</span>
</code></pre><h2 id="basic-usage">Basic usage</h2>
				<h3 id="typescript">Typescript</h3>
				<p>The module includes the complete type definitions for Typescript
				applications. Simply install the module and you&#39;re ready to go:</p>
				<pre><code class="lang-typescript"><span class="hljs-keyword">import</span> {SimpleNode} <span class="hljs-keyword">from</span> <span class="hljs-string">'js-hierarchy'</span>;

<span class="hljs-keyword">let</span> rootNode: SimpleNode = <span class="hljs-keyword">new</span> SimpleNode();
</code></pre>
				<h3 id="node-js">Node.js</h3>
				<p>After installing the module, use it with require():</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> hierarchy = <span class="hljs-built_in">require</span>(<span class="hljs-string">'js-hierarchy'</span>);

<span class="hljs-keyword">var</span> rootNode = <span class="hljs-keyword">new</span> hierarchy.SimpleNode();
</code></pre>
				<h3 id="browser">Browser</h3>
				<p>Install the module and include the browser script:</p>
				<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"node_modules/js-hierarchy/browser.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
				<p>or use the jsDelivr CDN hosted version:</p>
				<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"//cdn.jsdelivr.net/npm/js-hierarchy/browser.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
				<p>With this the global namespace will include a &quot;jshierarchy&quot; object:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> rootNode = <span class="hljs-keyword">new</span> jshierarchy.SimpleNode();
</code></pre>
				<p>After that, everything&#39;s right as working in Node.js.</p>
				<h2 id="building-the-hierarchy">Building the hierarchy</h2>
				<p>The tree-like data structures, that js-hierarchy can build are build
					up from &quot;Nodes&quot;. There can be several implementations of the Node
				interface, but the simplest one is called &quot;SimpleNode&quot;.</p>
				<p>Just instantiate it to create a new node:</p>
				<pre><code class="lang-javascript">rootNode = <span class="hljs-keyword">new</span> SimpleNode();
</code></pre>
				<p>If a node has no parent, it is considered the &quot;root node&quot;. A node can
					include a number of children, obviously. Simply use the &quot;addChild&quot;-
				method to add one:</p>
				<pre><code class="lang-javascript">rootNode = <span class="hljs-keyword">new</span> SimpleNode();
rootNode.addChild(<span class="hljs-keyword">new</span> SimpleNode());
</code></pre>
				<p>Adding the child will automatically set the child&#39;s parent to
				the node it was added to.</p>
				<h2 id="storing-arbitrary-data">Storing arbitrary data</h2>
				<p>Because nodes without any information aren&#39;t quite useful, js-hierarchy
				supports storing arbitrary data in a key/value manner.</p>
				<p>To add a new data to a node, use the method &quot;setData&quot;:</p>
				<pre><code class="lang-javascript">rootNode = <span class="hljs-keyword">new</span> SimpleNode();
rootNode.setData(<span class="hljs-string">'mykey'</span>, <span class="hljs-string">'myvalue'</span>);
</code></pre>
				<p>You can also directly set the data when instantiating the node:</p>
				<pre><code class="lang-javascript">rootNode = <span class="hljs-keyword">new</span> SimpleNode({<span class="hljs-string">'mykey'</span>: <span class="hljs-string">'myValue'</span>});
</code></pre>
				<p>Use &quot;getData&quot; to retrieve node data again later:</p>
				<pre><code class="lang-javascript">rootNode = <span class="hljs-keyword">new</span> SimpleNode({<span class="hljs-string">'mykey'</span>: <span class="hljs-string">'myValue'</span>});
<span class="hljs-built_in">console</span>.log(rootNode.getData(<span class="hljs-string">'mykey'</span>));
<span class="hljs-comment">// will output: myValue</span>
</code></pre>
				<h2 id="walking-the-tree">Walking the tree</h2>
				<p>Most tree-like structures are used to store hierarchical data
				and walk the tree from one node to the upper, lower or sibling nodes.</p>
				<p>The &quot;walk&quot; method of a node will just do that and call a user
					defined function on each node it encounters. Please note, that only the
					directions traversing the tree vertically (Down, Up, and RootDown)
				will call the action on the original node.</p>
				<pre><code class="lang-javascript">rootNode = <span class="hljs-keyword">new</span> SimpleNode({<span class="hljs-string">'name'</span>: <span class="hljs-string">'root'</span>});
childNode = <span class="hljs-keyword">new</span> SimpleNode({<span class="hljs-string">'name'</span>: <span class="hljs-string">'child'</span>});
childNode.addChild(<span class="hljs-keyword">new</span> SimpleNode({<span class="hljs-string">'name'</span>: <span class="hljs-string">'grandChild'</span>}));
rootNode.addChild(childNode);

rootNode.walk(Direction.up, (node) =&gt; {
    <span class="hljs-built_in">console</span>.log(node.getData(<span class="hljs-string">'name'</span>));
    <span class="hljs-keyword">return</span> Bluebird.resolve();
});
<span class="hljs-comment">// will output 'root', 'child' and 'grandChild'</span>
</code></pre>
				<p>Please look at this example tree:</p>
				<pre><code>                                    +----------------+
      +                             |<span class="hljs-string"> grandchild 3.1 </span>|
      |<span class="hljs-string">                             +-------^--------+
down  </span>|<span class="hljs-string">                                     </span>|
      |<span class="hljs-string">                                     </span>|
      |<span class="hljs-string">                                     </span>|
      |<span class="hljs-string">                                     </span>|
      |<span class="hljs-string">     +---------+  +---------+   +----+----+
      v     </span>|<span class="hljs-string"> child 1 </span>|<span class="hljs-string">  </span>|<span class="hljs-string"> child 2 </span>|<span class="hljs-string">   </span>|<span class="hljs-string"> child 3 </span>|
            +---^-----+  +----^----+   +----^----+
      ^         |<span class="hljs-string">             </span>|<span class="hljs-string">             </span>|
      |<span class="hljs-string">         </span>|<span class="hljs-string">             </span>|<span class="hljs-string">             </span>|
      |<span class="hljs-string">         </span>|<span class="hljs-string">   &lt;----+    </span>|<span class="hljs-string">   +-----&gt;   </span>|
 up   |<span class="hljs-string">         </span>|<span class="hljs-string">    left     </span>|<span class="hljs-string">    right    </span>|
      |<span class="hljs-string">         </span>|<span class="hljs-string">             </span>|<span class="hljs-string">             </span>|
      |<span class="hljs-string">         </span>|<span class="hljs-string">             </span>|<span class="hljs-string">             </span>|
      |<span class="hljs-string">         </span>|<span class="hljs-string">          +--+---+         </span>|
      +         +----------+ root +---------+
                           +------+
</code></pre><p>Now, these directions are available:</p>
				<ul>
					<li>up: Walks through all child nodes. Then to their child nodes and
						so on until no node is available anymore (from root to child 1-3
					to grandchild)</li>
					<li>down: Walks to the parent node, then the next parent node and so on
					until the root node is reached. (from grandchild to child 1-3 to root)</li>
					<li>left: Walks all siblings (the parent node&#39;s children) from the current
						node to the left (children having a smaller array index) until the
					first node is reached (from child2 to child1)</li>
					<li>right: Walks all siblings (the parent node&#39;s children) from the current
						node to the right (children having a larger array index) until the
					last node is reached (from child2 to child3)</li>
					<li>rootUp: Walks the same way &quot;up&quot; would go, but will only call the action
						function on its way up. For example, when called from grandchild 3.1, the
						action function will encounter &quot;root&quot; first, then &quot;child3&quot; and finally
					&quot;grandchild 3.1&quot;.</li>
				</ul>
				<p>You can also specify an array of directions, meaning that, after the
					last node has been reached in the first direction, the next direction
				is walked and so on.</p>
				<p>The walk method runs asynchronously using <a href="https://promisesaplus.com/">Promises</a>
				in the <a href="http://bluebirdjs.com/docs/getting-started.html">Bluebird implementation</a>.</p>
				<p>Thus, the walker returns a fulfilled promise, if every node was walked. Also, the
				supplied user function has to return a promise.</p>
				<h2 id="extending">Extending</h2>
				<p>If you need a specialized nodes with functions suitable for your
					usage, you should extend &quot;AbstractNode&quot; and implement &quot;Node&quot;.
					AbstractNode already has all needed features, so you can just
					concentrate on the needed features without caring about the basic
				ones.</p>
				<p>Please read the
				<a href="https://dodevops.github.io/js-hierarchy/doc/">API documentation</a> for details.</p>
				<h2 id="building">Building</h2>
				<p>To test and build this package, simply use grunt:</p>
				<pre><code>grunt <span class="hljs-built_in">release</span>
</code></pre><p>This will run all unit tests and a coverage report.</p>
				<h2 id="contributing">Contributing</h2>
				<p>First of all: Thank you for your will to contribute!</p>
				<p>To request a new feature or report a bug, please
				create a github issue.</p>
				<p>Pull requests are always welcome!</p>
				<p>If you can, please submit a pull request adding the feature
				or solving the bug you just reported.</p>
				<p>While developing for your pull request, please first create a test, that
					produces your error or checks your new feature, run the test suite
				using</p>
				<pre><code>grunt <span class="hljs-built_in">test</span>
</code></pre><p>to see them fail. Then, solve the bug or implement the feature and
					run the tests once again to see them succeed. Please write good tests
				and keep the coverage up.</p>
				<p>We will review the pull request and optionally comment your code
					and probably ask you to fix one or two things, before we can merge
				your code.</p>
				<h2 id="browser-compatibility-tests">Browser compatibility tests</h2>
				<p>Browser compatibility tests are run using SauceLabs. To run them,
				first add this line to your local hosts file:</p>
				<pre><code>127<span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.1</span> <span class="hljs-selector-tag">saucelabs</span><span class="hljs-selector-class">.test</span>
</code></pre><p>Then, when running <code>grunt browsertest</code>, set these two environment
				variables:</p>
				<pre><code><span class="hljs-attr">SAUCE_USERNAME</span>=&lt;your SauceLabs username&gt;
<span class="hljs-attr">SAUCE_ACCESS_KEY</span>=&lt;your SauceLabs access key&gt;
</code></pre>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class="label tsd-is-external">
						<span>Internals</span>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_js_hierarchy_.html">"js-<wbr>hierarchy"</a>
					</li>
					<li class="label tsd-is-external">
						<span>Externals</span>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/js_hierarchy.html">js-<wbr>hierarchy</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>